5a901c15a851510b07a7b2f104cdb920
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _composeStyles = _interopRequireDefault(require("../../src/private/styles/composeStyles"));
var ReactNativeStyleAttributes = require('../Components/View/ReactNativeStyleAttributes');
var PixelRatio = require('../Utilities/PixelRatio').default;
var flatten = require('./flattenStyle');
var hairlineWidth = PixelRatio.roundToNearestPixel(0.4);
if (hairlineWidth === 0) {
  hairlineWidth = 1 / PixelRatio.get();
}
var absoluteFill = {
  position: 'absolute',
  left: 0,
  right: 0,
  top: 0,
  bottom: 0
};
if (__DEV__) {
  Object.freeze(absoluteFill);
}
module.exports = {
  hairlineWidth: hairlineWidth,
  absoluteFill: absoluteFill,
  absoluteFillObject: absoluteFill,
  compose: _composeStyles.default,
  flatten: flatten,
  setStyleAttributePreprocessor: function setStyleAttributePreprocessor(property, process) {
    var _ReactNativeStyleAttr, _ReactNativeStyleAttr2;
    var value;
    if (ReactNativeStyleAttributes[property] === true) {
      value = {
        process: process
      };
    } else if (typeof ReactNativeStyleAttributes[property] === 'object') {
      value = Object.assign({}, ReactNativeStyleAttributes[property], {
        process: process
      });
    } else {
      console.error(`${property} is not a valid style attribute`);
      return;
    }
    if (__DEV__ && typeof value.process === 'function' && typeof ((_ReactNativeStyleAttr = ReactNativeStyleAttributes[property]) == null ? void 0 : _ReactNativeStyleAttr.process) === 'function' && value.process !== ((_ReactNativeStyleAttr2 = ReactNativeStyleAttributes[property]) == null ? void 0 : _ReactNativeStyleAttr2.process)) {
      console.warn(`Overwriting ${property} style attribute preprocessor`);
    }
    ReactNativeStyleAttributes[property] = value;
  },
  create: function create(obj) {
    if (__DEV__) {
      for (var _key in obj) {
        if (obj[_key]) {
          Object.freeze(obj[_key]);
        }
      }
    }
    return obj;
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9jb21wb3NlU3R5bGVzIiwiUmVhY3ROYXRpdmVTdHlsZUF0dHJpYnV0ZXMiLCJQaXhlbFJhdGlvIiwiZGVmYXVsdCIsImZsYXR0ZW4iLCJoYWlybGluZVdpZHRoIiwicm91bmRUb05lYXJlc3RQaXhlbCIsImdldCIsImFic29sdXRlRmlsbCIsInBvc2l0aW9uIiwibGVmdCIsInJpZ2h0IiwidG9wIiwiYm90dG9tIiwiX19ERVZfXyIsIk9iamVjdCIsImZyZWV6ZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJhYnNvbHV0ZUZpbGxPYmplY3QiLCJjb21wb3NlIiwiY29tcG9zZVN0eWxlcyIsInNldFN0eWxlQXR0cmlidXRlUHJlcHJvY2Vzc29yIiwicHJvcGVydHkiLCJwcm9jZXNzIiwiX1JlYWN0TmF0aXZlU3R5bGVBdHRyIiwiX1JlYWN0TmF0aXZlU3R5bGVBdHRyMiIsInZhbHVlIiwiYXNzaWduIiwiY29uc29sZSIsImVycm9yIiwid2FybiIsImNyZWF0ZSIsIm9iaiIsImtleSJdLCJzb3VyY2VzIjpbIlN0eWxlU2hlZXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmbG93XG4gKiBAZm9ybWF0XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdHlwZSB7XG4gIF9fX19Db2xvclZhbHVlX0ludGVybmFsLFxuICBfX19fRGFuZ2Vyb3VzbHlJbXByZWNpc2VTdHlsZV9JbnRlcm5hbCxcbiAgX19fX0Rhbmdlcm91c2x5SW1wcmVjaXNlU3R5bGVQcm9wX0ludGVybmFsLFxuICBfX19fSW1hZ2VTdHlsZV9JbnRlcm5hbCxcbiAgX19fX0ltYWdlU3R5bGVQcm9wX0ludGVybmFsLFxuICBfX19fU3R5bGVzX0ludGVybmFsLFxuICBfX19fVGV4dFN0eWxlX0ludGVybmFsLFxuICBfX19fVGV4dFN0eWxlUHJvcF9JbnRlcm5hbCxcbiAgX19fX1ZpZXdTdHlsZV9JbnRlcm5hbCxcbiAgX19fX1ZpZXdTdHlsZVByb3BfSW50ZXJuYWwsXG59IGZyb20gJy4vU3R5bGVTaGVldFR5cGVzJztcblxuaW1wb3J0IGNvbXBvc2VTdHlsZXMgZnJvbSAnLi4vLi4vc3JjL3ByaXZhdGUvc3R5bGVzL2NvbXBvc2VTdHlsZXMnO1xuXG5jb25zdCBSZWFjdE5hdGl2ZVN0eWxlQXR0cmlidXRlcyA9IHJlcXVpcmUoJy4uL0NvbXBvbmVudHMvVmlldy9SZWFjdE5hdGl2ZVN0eWxlQXR0cmlidXRlcycpO1xuY29uc3QgUGl4ZWxSYXRpbyA9IHJlcXVpcmUoJy4uL1V0aWxpdGllcy9QaXhlbFJhdGlvJykuZGVmYXVsdDtcbmNvbnN0IGZsYXR0ZW4gPSByZXF1aXJlKCcuL2ZsYXR0ZW5TdHlsZScpO1xuXG5leHBvcnQgdHlwZSB7TmF0aXZlQ29sb3JWYWx1ZX0gZnJvbSAnLi9TdHlsZVNoZWV0VHlwZXMnO1xuXG4vKipcbiAqIFRoaXMgdHlwZSBzaG91bGQgYmUgdXNlZCBhcyB0aGUgdHlwZSBmb3IgYW55dGhpbmcgdGhhdCBpcyBhIGNvbG9yLiBJdCBpc1xuICogbW9zdCB1c2VmdWwgd2hlbiB1c2luZyBEeW5hbWljQ29sb3JJT1Mgd2hpY2ggY2FuIGJlIGEgc3RyaW5nIG9yIGEgZHluYW1pY1xuICogY29sb3Igb2JqZWN0LlxuICpcbiAqIHR5cGUgcHJvcHMgPSB7YmFja2dyb3VuZENvbG9yOiBDb2xvclZhbHVlfTtcbiAqL1xuZXhwb3J0IHR5cGUgQ29sb3JWYWx1ZSA9IF9fX19Db2xvclZhbHVlX0ludGVybmFsO1xuXG4vKipcbiAqIFRoaXMgdHlwZSBzaG91bGQgYmUgdXNlZCBhcyB0aGUgdHlwZSBmb3IgYSBwcm9wIHRoYXQgaXMgcGFzc2VkIHRocm91Z2hcbiAqIHRvIGEgPFZpZXc+J3MgYHN0eWxlYCBwcm9wLiBUaGlzIGVuc3VyZXMgY2FsbCBzaXRlcyBvZiB0aGUgY29tcG9uZW50XG4gKiBjYW4ndCBwYXNzIHN0eWxlcyB0aGF0IFZpZXcgZG9lc24ndCBzdXBwb3J0IHN1Y2ggYXMgYGZvbnRTaXplYC5gXG4gKlxuICogdHlwZSBQcm9wcyA9IHtzdHlsZTogVmlld1N0eWxlUHJvcH1cbiAqIGNvbnN0IE15Q29tcG9uZW50ID0gKHByb3BzOiBQcm9wcykgPT4gPFZpZXcgc3R5bGU9e3Byb3BzLnN0eWxlfSAvPlxuICovXG5leHBvcnQgdHlwZSBWaWV3U3R5bGVQcm9wID0gX19fX1ZpZXdTdHlsZVByb3BfSW50ZXJuYWw7XG5cbi8qKlxuICogVGhpcyB0eXBlIHNob3VsZCBiZSB1c2VkIGFzIHRoZSB0eXBlIGZvciBhIHByb3AgdGhhdCBpcyBwYXNzZWQgdGhyb3VnaFxuICogdG8gYSA8VGV4dD4ncyBgc3R5bGVgIHByb3AuIFRoaXMgZW5zdXJlcyBjYWxsIHNpdGVzIG9mIHRoZSBjb21wb25lbnRcbiAqIGNhbid0IHBhc3Mgc3R5bGVzIHRoYXQgVGV4dCBkb2Vzbid0IHN1cHBvcnQgc3VjaCBhcyBgcmVzaXplTW9kZWAuYFxuICpcbiAqIHR5cGUgUHJvcHMgPSB7c3R5bGU6IFRleHRTdHlsZVByb3B9XG4gKiBjb25zdCBNeUNvbXBvbmVudCA9IChwcm9wczogUHJvcHMpID0+IDxUZXh0IHN0eWxlPXtwcm9wcy5zdHlsZX0gLz5cbiAqL1xuZXhwb3J0IHR5cGUgVGV4dFN0eWxlUHJvcCA9IF9fX19UZXh0U3R5bGVQcm9wX0ludGVybmFsO1xuXG4vKipcbiAqIFRoaXMgdHlwZSBzaG91bGQgYmUgdXNlZCBhcyB0aGUgdHlwZSBmb3IgYSBwcm9wIHRoYXQgaXMgcGFzc2VkIHRocm91Z2hcbiAqIHRvIGFuIDxJbWFnZT4ncyBgc3R5bGVgIHByb3AuIFRoaXMgZW5zdXJlcyBjYWxsIHNpdGVzIG9mIHRoZSBjb21wb25lbnRcbiAqIGNhbid0IHBhc3Mgc3R5bGVzIHRoYXQgSW1hZ2UgZG9lc24ndCBzdXBwb3J0IHN1Y2ggYXMgYGZvbnRTaXplYC5gXG4gKlxuICogdHlwZSBQcm9wcyA9IHtzdHlsZTogSW1hZ2VTdHlsZVByb3B9XG4gKiBjb25zdCBNeUNvbXBvbmVudCA9IChwcm9wczogUHJvcHMpID0+IDxJbWFnZSBzdHlsZT17cHJvcHMuc3R5bGV9IC8+XG4gKi9cbmV4cG9ydCB0eXBlIEltYWdlU3R5bGVQcm9wID0gX19fX0ltYWdlU3R5bGVQcm9wX0ludGVybmFsO1xuXG4vKipcbiAqIFdBUk5JTkc6IFlvdSBwcm9iYWJseSBzaG91bGRuJ3QgYmUgdXNpbmcgdGhpcyB0eXBlLiBUaGlzIHR5cGVcbiAqIGlzIHNpbWlsYXIgdG8gdGhlIG9uZXMgYWJvdmUgZXhjZXB0IGl0IGFsbG93cyBzdHlsZXMgdGhhdCBhcmUgYWNjZXB0ZWRcbiAqIGJ5IGFsbCBvZiBWaWV3LCBUZXh0LCBvciBJbWFnZS4gSXQgaXMgdGhlcmVmb3JlIHZlcnkgdW5zYWZlIHRvIHBhc3MgdGhpc1xuICogdGhyb3VnaCB0byBhbiB1bmRlcmx5aW5nIGNvbXBvbmVudC4gVXNpbmcgdGhpcyBpcyBhbG1vc3QgYWx3YXlzIGEgbWlzdGFrZVxuICogYW5kIHVzaW5nIG9uZSBvZiB0aGUgb3RoZXIgbW9yZSByZXN0cmljdGl2ZSB0eXBlcyBpcyBsaWtlbHkgdGhlIHJpZ2h0IGNob2ljZS5cbiAqL1xuZXhwb3J0IHR5cGUgRGFuZ2Vyb3VzbHlJbXByZWNpc2VTdHlsZVByb3AgPVxuICBfX19fRGFuZ2Vyb3VzbHlJbXByZWNpc2VTdHlsZVByb3BfSW50ZXJuYWw7XG5cbi8qKlxuICogVXRpbGl0eSB0eXBlIGZvciBnZXR0aW5nIHRoZSB2YWx1ZXMgZm9yIHNwZWNpZmljIHN0eWxlIGtleXMuXG4gKlxuICogVGhlIGZvbGxvd2luZyBpcyBiYWQgYmVjYXVzZSBwb3NpdGlvbiBpcyBtb3JlIHJlc3RyaWN0aXZlIHRoYW4gJ3N0cmluZyc6XG4gKiBgYGBcbiAqIHR5cGUgUHJvcHMgPSB7cG9zaXRpb246IHN0cmluZ307XG4gKiBgYGBcbiAqXG4gKiBZb3Ugc2hvdWxkIHVzZSB0aGUgZm9sbG93aW5nIGluc3RlYWQ6XG4gKlxuICogYGBgXG4gKiB0eXBlIFByb3BzID0ge3Bvc2l0aW9uOiBUeXBlRm9yU3R5bGVLZXk8J3Bvc2l0aW9uJz59O1xuICogYGBgXG4gKlxuICogVGhpcyB3aWxsIGNvcnJlY3RseSBnaXZlIHlvdSB0aGUgdHlwZSAnYWJzb2x1dGUnIHwgJ3JlbGF0aXZlJ1xuICovXG5leHBvcnQgdHlwZSBUeXBlRm9yU3R5bGVLZXk8XG4gICtrZXk6ICRLZXlzPF9fX19EYW5nZXJvdXNseUltcHJlY2lzZVN0eWxlX0ludGVybmFsPixcbj4gPSAkRWxlbWVudFR5cGU8X19fX0Rhbmdlcm91c2x5SW1wcmVjaXNlU3R5bGVfSW50ZXJuYWwsIGtleT47XG5cbi8qKlxuICogVGhpcyB0eXBlIGlzIGFuIG9iamVjdCBvZiB0aGUgZGlmZmVyZW50IHBvc3NpYmxlIHN0eWxlXG4gKiBwcm9wZXJ0aWVzIHRoYXQgY2FuIGJlIHNwZWNpZmllZCBmb3IgVmlldy5cbiAqXG4gKiBOb3RlIHRoYXQgdGhpcyBpc24ndCBhIHNhZmUgd2F5IHRvIHR5cGUgYSBzdHlsZSBwcm9wIGZvciBhIGNvbXBvbmVudCBhc1xuICogcmVzdWx0cyBmcm9tIFN0eWxlU2hlZXQuY3JlYXRlIHJldHVybiBhbiBpbnRlcm5hbCBpZGVudGlmaWVyLCBub3RcbiAqIGFuIG9iamVjdCBvZiBzdHlsZXMuXG4gKlxuICogSWYgeW91IHdhbnQgdG8gdHlwZSB0aGUgc3R5bGUgcHJvcCBvZiBhIGZ1bmN0aW9uLFxuICogY29uc2lkZXIgdXNpbmcgVmlld1N0eWxlUHJvcC5cbiAqXG4gKiBBIHJlYXNvbmFibGUgdXNhZ2Ugb2YgdGhpcyB0eXBlIGlzIGZvciBoZWxwZXIgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIGFuXG4gKiBvYmplY3Qgb2Ygc3R5bGVzIHRvIHBhc3MgdG8gYSBWaWV3IHRoYXQgY2FuJ3QgYmUgcHJlY29tcHV0ZWQgd2l0aFxuICogU3R5bGVTaGVldC5jcmVhdGUuXG4gKi9cbmV4cG9ydCB0eXBlIFZpZXdTdHlsZSA9IF9fX19WaWV3U3R5bGVfSW50ZXJuYWw7XG5cbi8qKlxuICogVGhpcyB0eXBlIGlzIGFuIG9iamVjdCBvZiB0aGUgZGlmZmVyZW50IHBvc3NpYmxlIHN0eWxlXG4gKiBwcm9wZXJ0aWVzIHRoYXQgY2FuIGJlIHNwZWNpZmllZCBmb3IgVGV4dC5cbiAqXG4gKiBOb3RlIHRoYXQgdGhpcyBpc24ndCBhIHNhZmUgd2F5IHRvIHR5cGUgYSBzdHlsZSBwcm9wIGZvciBhIGNvbXBvbmVudCBhc1xuICogcmVzdWx0cyBmcm9tIFN0eWxlU2hlZXQuY3JlYXRlIHJldHVybiBhbiBpbnRlcm5hbCBpZGVudGlmaWVyLCBub3RcbiAqIGFuIG9iamVjdCBvZiBzdHlsZXMuXG4gKlxuICogSWYgeW91IHdhbnQgdG8gdHlwZSB0aGUgc3R5bGUgcHJvcCBvZiBhIGZ1bmN0aW9uLFxuICogY29uc2lkZXIgdXNpbmcgVGV4dFN0eWxlUHJvcC5cbiAqXG4gKiBBIHJlYXNvbmFibGUgdXNhZ2Ugb2YgdGhpcyB0eXBlIGlzIGZvciBoZWxwZXIgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIGFuXG4gKiBvYmplY3Qgb2Ygc3R5bGVzIHRvIHBhc3MgdG8gYSBUZXh0IHRoYXQgY2FuJ3QgYmUgcHJlY29tcHV0ZWQgd2l0aFxuICogU3R5bGVTaGVldC5jcmVhdGUuXG4gKi9cbmV4cG9ydCB0eXBlIFRleHRTdHlsZSA9IF9fX19UZXh0U3R5bGVfSW50ZXJuYWw7XG5cbi8qKlxuICogVGhpcyB0eXBlIGlzIGFuIG9iamVjdCBvZiB0aGUgZGlmZmVyZW50IHBvc3NpYmxlIHN0eWxlXG4gKiBwcm9wZXJ0aWVzIHRoYXQgY2FuIGJlIHNwZWNpZmllZCBmb3IgSW1hZ2UuXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgaXNuJ3QgYSBzYWZlIHdheSB0byB0eXBlIGEgc3R5bGUgcHJvcCBmb3IgYSBjb21wb25lbnQgYXNcbiAqIHJlc3VsdHMgZnJvbSBTdHlsZVNoZWV0LmNyZWF0ZSByZXR1cm4gYW4gaW50ZXJuYWwgaWRlbnRpZmllciwgbm90XG4gKiBhbiBvYmplY3Qgb2Ygc3R5bGVzLlxuICpcbiAqIElmIHlvdSB3YW50IHRvIHR5cGUgdGhlIHN0eWxlIHByb3Agb2YgYSBmdW5jdGlvbixcbiAqIGNvbnNpZGVyIHVzaW5nIEltYWdlU3R5bGVQcm9wLlxuICpcbiAqIEEgcmVhc29uYWJsZSB1c2FnZSBvZiB0aGlzIHR5cGUgaXMgZm9yIGhlbHBlciBmdW5jdGlvbnMgdGhhdCByZXR1cm4gYW5cbiAqIG9iamVjdCBvZiBzdHlsZXMgdG8gcGFzcyB0byBhbiBJbWFnZSB0aGF0IGNhbid0IGJlIHByZWNvbXB1dGVkIHdpdGhcbiAqIFN0eWxlU2hlZXQuY3JlYXRlLlxuICovXG5leHBvcnQgdHlwZSBJbWFnZVN0eWxlID0gX19fX0ltYWdlU3R5bGVfSW50ZXJuYWw7XG5cbi8qKlxuICogV0FSTklORzogWW91IHByb2JhYmx5IHNob3VsZG4ndCBiZSB1c2luZyB0aGlzIHR5cGUuIFRoaXMgdHlwZSBpcyBhbiBvYmplY3RcbiAqIHdpdGggYWxsIHBvc3NpYmxlIHN0eWxlIGtleXMgYW5kIHRoZWlyIHZhbHVlcy4gTm90ZSB0aGF0IHRoaXMgaXNuJ3RcbiAqIGEgc2FmZSB3YXkgdG8gdHlwZSBhIHN0eWxlIHByb3AgZm9yIGEgY29tcG9uZW50IGFzIHJlc3VsdHMgZnJvbVxuICogU3R5bGVTaGVldC5jcmVhdGUgcmV0dXJuIGFuIGludGVybmFsIGlkZW50aWZpZXIsIG5vdCBhbiBvYmplY3Qgb2Ygc3R5bGVzLlxuICpcbiAqIElmIHlvdSB3YW50IHRvIHR5cGUgdGhlIHN0eWxlIHByb3Agb2YgYSBmdW5jdGlvbiwgY29uc2lkZXIgdXNpbmdcbiAqIFZpZXdTdHlsZVByb3AsIFRleHRTdHlsZVByb3AsIG9yIEltYWdlU3R5bGVQcm9wLlxuICpcbiAqIFRoaXMgc2hvdWxkIG9ubHkgYmUgdXNlZCBieSB2ZXJ5IGNvcmUgdXRpbGl0aWVzIHRoYXQgb3BlcmF0ZSBvbiBhbiBvYmplY3RcbiAqIGNvbnRhaW5pbmcgYW55IHBvc3NpYmxlIHN0eWxlIHZhbHVlLlxuICovXG5leHBvcnQgdHlwZSBEYW5nZXJvdXNseUltcHJlY2lzZVN0eWxlID0gX19fX0Rhbmdlcm91c2x5SW1wcmVjaXNlU3R5bGVfSW50ZXJuYWw7XG5cbmxldCBoYWlybGluZVdpZHRoOiBudW1iZXIgPSBQaXhlbFJhdGlvLnJvdW5kVG9OZWFyZXN0UGl4ZWwoMC40KTtcbmlmIChoYWlybGluZVdpZHRoID09PSAwKSB7XG4gIGhhaXJsaW5lV2lkdGggPSAxIC8gUGl4ZWxSYXRpby5nZXQoKTtcbn1cblxuY29uc3QgYWJzb2x1dGVGaWxsID0ge1xuICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgbGVmdDogMCxcbiAgcmlnaHQ6IDAsXG4gIHRvcDogMCxcbiAgYm90dG9tOiAwLFxufTtcbmlmIChfX0RFVl9fKSB7XG4gIE9iamVjdC5mcmVlemUoYWJzb2x1dGVGaWxsKTtcbn1cblxuLyoqXG4gKiBBIFN0eWxlU2hlZXQgaXMgYW4gYWJzdHJhY3Rpb24gc2ltaWxhciB0byBDU1MgU3R5bGVTaGVldHNcbiAqXG4gKiBDcmVhdGUgYSBuZXcgU3R5bGVTaGVldDpcbiAqXG4gKiBgYGBcbiAqIGNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAqICAgY29udGFpbmVyOiB7XG4gKiAgICAgYm9yZGVyUmFkaXVzOiA0LFxuICogICAgIGJvcmRlcldpZHRoOiAwLjUsXG4gKiAgICAgYm9yZGVyQ29sb3I6ICcjZDZkN2RhJyxcbiAqICAgfSxcbiAqICAgdGl0bGU6IHtcbiAqICAgICBmb250U2l6ZTogMTksXG4gKiAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxuICogICB9LFxuICogICBhY3RpdmVUaXRsZToge1xuICogICAgIGNvbG9yOiAncmVkJyxcbiAqICAgfSxcbiAqIH0pO1xuICogYGBgXG4gKlxuICogVXNlIGEgU3R5bGVTaGVldDpcbiAqXG4gKiBgYGBcbiAqIDxWaWV3IHN0eWxlPXtzdHlsZXMuY29udGFpbmVyfT5cbiAqICAgPFRleHQgc3R5bGU9e1tzdHlsZXMudGl0bGUsIHRoaXMucHJvcHMuaXNBY3RpdmUgJiYgc3R5bGVzLmFjdGl2ZVRpdGxlXX0gLz5cbiAqIDwvVmlldz5cbiAqIGBgYFxuICpcbiAqIENvZGUgcXVhbGl0eTpcbiAqXG4gKiAgLSBCeSBtb3Zpbmcgc3R5bGVzIGF3YXkgZnJvbSB0aGUgcmVuZGVyIGZ1bmN0aW9uLCB5b3UncmUgbWFraW5nIHRoZSBjb2RlXG4gKiAgICBlYXNpZXIgdG8gdW5kZXJzdGFuZC5cbiAqICAtIE5hbWluZyB0aGUgc3R5bGVzIGlzIGEgZ29vZCB3YXkgdG8gYWRkIG1lYW5pbmcgdG8gdGhlIGxvdyBsZXZlbCBjb21wb25lbnRzXG4gKiAgaW4gdGhlIHJlbmRlciBmdW5jdGlvbiwgYW5kIGVuY291cmFnZSByZXVzZS5cbiAqICAtIEluIG1vc3QgSURFcywgdXNpbmcgYFN0eWxlU2hlZXQuY3JlYXRlKClgIHdpbGwgb2ZmZXIgc3RhdGljIHR5cGUgY2hlY2tpbmdcbiAqICBhbmQgc3VnZ2VzdGlvbnMgdG8gaGVscCB5b3Ugd3JpdGUgdmFsaWQgc3R5bGVzLlxuICpcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8qKlxuICAgKiBUaGlzIGlzIGRlZmluZWQgYXMgdGhlIHdpZHRoIG9mIGEgdGhpbiBsaW5lIG9uIHRoZSBwbGF0Zm9ybS4gSXQgY2FuIGJlXG4gICAqIHVzZWQgYXMgdGhlIHRoaWNrbmVzcyBvZiBhIGJvcmRlciBvciBkaXZpc2lvbiBiZXR3ZWVuIHR3byBlbGVtZW50cy5cbiAgICogRXhhbXBsZTpcbiAgICogYGBgXG4gICAqICAge1xuICAgKiAgICAgYm9yZGVyQm90dG9tQ29sb3I6ICcjYmJiJyxcbiAgICogICAgIGJvcmRlckJvdHRvbVdpZHRoOiBTdHlsZVNoZWV0LmhhaXJsaW5lV2lkdGhcbiAgICogICB9XG4gICAqIGBgYFxuICAgKlxuICAgKiBUaGlzIGNvbnN0YW50IHdpbGwgYWx3YXlzIGJlIGEgcm91bmQgbnVtYmVyIG9mIHBpeGVscyAoc28gYSBsaW5lIGRlZmluZWRcbiAgICogYnkgaXQgbG9vayBjcmlzcCkgYW5kIHdpbGwgdHJ5IHRvIG1hdGNoIHRoZSBzdGFuZGFyZCB3aWR0aCBvZiBhIHRoaW4gbGluZVxuICAgKiBvbiB0aGUgdW5kZXJseWluZyBwbGF0Zm9ybS4gSG93ZXZlciwgeW91IHNob3VsZCBub3QgcmVseSBvbiBpdCBiZWluZyBhXG4gICAqIGNvbnN0YW50IHNpemUsIGJlY2F1c2Ugb24gZGlmZmVyZW50IHBsYXRmb3JtcyBhbmQgc2NyZWVuIGRlbnNpdGllcyBpdHNcbiAgICogdmFsdWUgbWF5IGJlIGNhbGN1bGF0ZWQgZGlmZmVyZW50bHkuXG4gICAqXG4gICAqIEEgbGluZSB3aXRoIGhhaXJsaW5lIHdpZHRoIG1heSBub3QgYmUgdmlzaWJsZSBpZiB5b3VyIHNpbXVsYXRvciBpcyBkb3duc2NhbGVkLlxuICAgKi9cbiAgaGFpcmxpbmVXaWR0aCxcblxuICAvKipcbiAgICogQSB2ZXJ5IGNvbW1vbiBwYXR0ZXJuIGlzIHRvIGNyZWF0ZSBvdmVybGF5cyB3aXRoIHBvc2l0aW9uIGFic29sdXRlIGFuZCB6ZXJvIHBvc2l0aW9uaW5nLFxuICAgKiBzbyBgYWJzb2x1dGVGaWxsYCBjYW4gYmUgdXNlZCBmb3IgY29udmVuaWVuY2UgYW5kIHRvIHJlZHVjZSBkdXBsaWNhdGlvbiBvZiB0aGVzZSByZXBlYXRlZFxuICAgKiBzdHlsZXMuXG4gICAqL1xuICBhYnNvbHV0ZUZpbGw6IChhYnNvbHV0ZUZpbGw6IGFueSksIC8vIFRPRE86IFRoaXMgc2hvdWxkIGJlIHVwZGF0ZWQgYWZ0ZXIgd2UgZml4IGRvd25zdHJlYW0gRmxvdyBzaXRlcy5cblxuICAvKipcbiAgICogU29tZXRpbWVzIHlvdSBtYXkgd2FudCBgYWJzb2x1dGVGaWxsYCBidXQgd2l0aCBhIGNvdXBsZSB0d2Vha3MgLSBgYWJzb2x1dGVGaWxsT2JqZWN0YCBjYW4gYmVcbiAgICogdXNlZCB0byBjcmVhdGUgYSBjdXN0b21pemVkIGVudHJ5IGluIGEgYFN0eWxlU2hlZXRgLCBlLmcuOlxuICAgKlxuICAgKiAgIGNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgICogICAgIHdyYXBwZXI6IHtcbiAgICogICAgICAgLi4uU3R5bGVTaGVldC5hYnNvbHV0ZUZpbGxPYmplY3QsXG4gICAqICAgICAgIHRvcDogMTAsXG4gICAqICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50JyxcbiAgICogICAgIH0sXG4gICAqICAgfSk7XG4gICAqL1xuICBhYnNvbHV0ZUZpbGxPYmplY3Q6IGFic29sdXRlRmlsbCxcblxuICAvKipcbiAgICogQ29tYmluZXMgdHdvIHN0eWxlcyBzdWNoIHRoYXQgYHN0eWxlMmAgd2lsbCBvdmVycmlkZSBhbnkgc3R5bGVzIGluIGBzdHlsZTFgLlxuICAgKiBJZiBlaXRoZXIgc3R5bGUgaXMgZmFsc3ksIHRoZSBvdGhlciBvbmUgaXMgcmV0dXJuZWQgd2l0aG91dCBhbGxvY2F0aW5nIGFuXG4gICAqIGFycmF5LCBzYXZpbmcgYWxsb2NhdGlvbnMgYW5kIG1haW50YWluaW5nIHJlZmVyZW5jZSBlcXVhbGl0eSBmb3JcbiAgICogUHVyZUNvbXBvbmVudCBjaGVja3MuXG4gICAqL1xuICBjb21wb3NlOiBjb21wb3NlU3R5bGVzLFxuXG4gIC8qKlxuICAgKiBGbGF0dGVucyBhbiBhcnJheSBvZiBzdHlsZSBvYmplY3RzLCBpbnRvIG9uZSBhZ2dyZWdhdGVkIHN0eWxlIG9iamVjdC5cbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICogYGBgXG4gICAqIGNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgICogICBsaXN0SXRlbToge1xuICAgKiAgICAgZmxleDogMSxcbiAgICogICAgIGZvbnRTaXplOiAxNixcbiAgICogICAgIGNvbG9yOiAnd2hpdGUnXG4gICAqICAgfSxcbiAgICogICBzZWxlY3RlZExpc3RJdGVtOiB7XG4gICAqICAgICBjb2xvcjogJ2dyZWVuJ1xuICAgKiAgIH1cbiAgICogfSk7XG4gICAqXG4gICAqIFN0eWxlU2hlZXQuZmxhdHRlbihbc3R5bGVzLmxpc3RJdGVtLCBzdHlsZXMuc2VsZWN0ZWRMaXN0SXRlbV0pXG4gICAqIC8vIHJldHVybnMgeyBmbGV4OiAxLCBmb250U2l6ZTogMTYsIGNvbG9yOiAnZ3JlZW4nIH1cbiAgICogYGBgXG4gICAqL1xuICBmbGF0dGVuLFxuXG4gIC8qKlxuICAgKiBXQVJOSU5HOiBFWFBFUklNRU5UQUwuIEJyZWFraW5nIGNoYW5nZXMgd2lsbCBwcm9iYWJseSBoYXBwZW4gYSBsb3QgYW5kIHdpbGxcbiAgICogbm90IGJlIHJlbGlhYmx5IGFubm91bmNlZC4gVGhlIHdob2xlIHRoaW5nIG1pZ2h0IGJlIGRlbGV0ZWQsIHdobyBrbm93cz8gVXNlXG4gICAqIGF0IHlvdXIgb3duIHJpc2suXG4gICAqXG4gICAqIFNldHMgYSBmdW5jdGlvbiB0byB1c2UgdG8gcHJlLXByb2Nlc3MgYSBzdHlsZSBwcm9wZXJ0eSB2YWx1ZS4gVGhpcyBpcyB1c2VkXG4gICAqIGludGVybmFsbHkgdG8gcHJvY2VzcyBjb2xvciBhbmQgdHJhbnNmb3JtIHZhbHVlcy4gWW91IHNob3VsZCBub3QgdXNlIHRoaXNcbiAgICogdW5sZXNzIHlvdSByZWFsbHkga25vdyB3aGF0IHlvdSBhcmUgZG9pbmcgYW5kIGhhdmUgZXhoYXVzdGVkIG90aGVyIG9wdGlvbnMuXG4gICAqL1xuICBzZXRTdHlsZUF0dHJpYnV0ZVByZXByb2Nlc3NvcihcbiAgICBwcm9wZXJ0eTogc3RyaW5nLFxuICAgIHByb2Nlc3M6IChuZXh0UHJvcDogbWl4ZWQpID0+IG1peGVkLFxuICApIHtcbiAgICBsZXQgdmFsdWU7XG5cbiAgICBpZiAoUmVhY3ROYXRpdmVTdHlsZUF0dHJpYnV0ZXNbcHJvcGVydHldID09PSB0cnVlKSB7XG4gICAgICB2YWx1ZSA9IHtwcm9jZXNzfTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBSZWFjdE5hdGl2ZVN0eWxlQXR0cmlidXRlc1twcm9wZXJ0eV0gPT09ICdvYmplY3QnKSB7XG4gICAgICB2YWx1ZSA9IHsuLi5SZWFjdE5hdGl2ZVN0eWxlQXR0cmlidXRlc1twcm9wZXJ0eV0sIHByb2Nlc3N9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKGAke3Byb3BlcnR5fSBpcyBub3QgYSB2YWxpZCBzdHlsZSBhdHRyaWJ1dGVgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBfX0RFVl9fICYmXG4gICAgICB0eXBlb2YgdmFsdWUucHJvY2VzcyA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgdHlwZW9mIFJlYWN0TmF0aXZlU3R5bGVBdHRyaWJ1dGVzW3Byb3BlcnR5XT8ucHJvY2VzcyA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgdmFsdWUucHJvY2VzcyAhPT0gUmVhY3ROYXRpdmVTdHlsZUF0dHJpYnV0ZXNbcHJvcGVydHldPy5wcm9jZXNzXG4gICAgKSB7XG4gICAgICBjb25zb2xlLndhcm4oYE92ZXJ3cml0aW5nICR7cHJvcGVydHl9IHN0eWxlIGF0dHJpYnV0ZSBwcmVwcm9jZXNzb3JgKTtcbiAgICB9XG5cbiAgICBSZWFjdE5hdGl2ZVN0eWxlQXR0cmlidXRlc1twcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgfSxcblxuICAvKipcbiAgICogQW4gaWRlbnRpdHkgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIHN0eWxlIHNoZWV0cy5cbiAgICovXG4gIC8vICRGbG93Rml4TWVbdW5zdXBwb3J0ZWQtdmFyaWFuY2UtYW5ub3RhdGlvbl1cbiAgY3JlYXRlPCtTOiBfX19fU3R5bGVzX0ludGVybmFsPihvYmo6IFMpOiAkUmVhZE9ubHk8Uz4ge1xuICAgIC8vIFRPRE86IFRoaXMgc2hvdWxkIHJldHVybiBTIGFzIHRoZSByZXR1cm4gdHlwZS4gQnV0IGZpcnN0LFxuICAgIC8vIHdlIG5lZWQgdG8gY29kZW1vZCBhbGwgdGhlIGNhbGxzaXRlcyB0aGF0IGFyZSB0eXBpbmcgdGhpc1xuICAgIC8vIHJldHVybiB2YWx1ZSBhcyBhIG51bWJlciAoZXZlbiB0aG91Z2ggaXQgd2FzIG9wYXF1ZSkuXG4gICAgaWYgKF9fREVWX18pIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgICBpZiAob2JqW2tleV0pIHtcbiAgICAgICAgICBPYmplY3QuZnJlZXplKG9ialtrZXldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9LFxufTtcbiJdLCJtYXBwaW5ncyI6IkFBVUEsWUFBWTs7QUFBQyxJQUFBQSxzQkFBQSxHQUFBQyxPQUFBO0FBZWIsSUFBQUMsY0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBTUUsMEJBQTBCLEdBQUdGLE9BQU8sQ0FBQywrQ0FBK0MsQ0FBQztBQUMzRixJQUFNRyxVQUFVLEdBQUdILE9BQU8sQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDSSxPQUFPO0FBQzdELElBQU1DLE9BQU8sR0FBR0wsT0FBTyxDQUFDLGdCQUFnQixDQUFDO0FBMEl6QyxJQUFJTSxhQUFxQixHQUFHSCxVQUFVLENBQUNJLG1CQUFtQixDQUFDLEdBQUcsQ0FBQztBQUMvRCxJQUFJRCxhQUFhLEtBQUssQ0FBQyxFQUFFO0VBQ3ZCQSxhQUFhLEdBQUcsQ0FBQyxHQUFHSCxVQUFVLENBQUNLLEdBQUcsQ0FBQyxDQUFDO0FBQ3RDO0FBRUEsSUFBTUMsWUFBWSxHQUFHO0VBQ25CQyxRQUFRLEVBQUUsVUFBVTtFQUNwQkMsSUFBSSxFQUFFLENBQUM7RUFDUEMsS0FBSyxFQUFFLENBQUM7RUFDUkMsR0FBRyxFQUFFLENBQUM7RUFDTkMsTUFBTSxFQUFFO0FBQ1YsQ0FBQztBQUNELElBQUlDLE9BQU8sRUFBRTtFQUNYQyxNQUFNLENBQUNDLE1BQU0sQ0FBQ1IsWUFBWSxDQUFDO0FBQzdCO0FBMENBUyxNQUFNLENBQUNDLE9BQU8sR0FBRztFQW9CZmIsYUFBYSxFQUFiQSxhQUFhO0VBT2JHLFlBQVksRUFBR0EsWUFBa0I7RUFjakNXLGtCQUFrQixFQUFFWCxZQUFZO0VBUWhDWSxPQUFPLEVBQUVDLHNCQUFhO0VBc0J0QmpCLE9BQU8sRUFBUEEsT0FBTztFQVdQa0IsNkJBQTZCLFdBQTdCQSw2QkFBNkJBLENBQzNCQyxRQUFnQixFQUNoQkMsT0FBbUMsRUFDbkM7SUFBQSxJQUFBQyxxQkFBQSxFQUFBQyxzQkFBQTtJQUNBLElBQUlDLEtBQUs7SUFFVCxJQUFJMUIsMEJBQTBCLENBQUNzQixRQUFRLENBQUMsS0FBSyxJQUFJLEVBQUU7TUFDakRJLEtBQUssR0FBRztRQUFDSCxPQUFPLEVBQVBBO01BQU8sQ0FBQztJQUNuQixDQUFDLE1BQU0sSUFBSSxPQUFPdkIsMEJBQTBCLENBQUNzQixRQUFRLENBQUMsS0FBSyxRQUFRLEVBQUU7TUFDbkVJLEtBQUssR0FBQVosTUFBQSxDQUFBYSxNQUFBLEtBQU8zQiwwQkFBMEIsQ0FBQ3NCLFFBQVEsQ0FBQztRQUFFQyxPQUFPLEVBQVBBO01BQU8sRUFBQztJQUM1RCxDQUFDLE1BQU07TUFDTEssT0FBTyxDQUFDQyxLQUFLLENBQUMsR0FBR1AsUUFBUSxpQ0FBaUMsQ0FBQztNQUMzRDtJQUNGO0lBRUEsSUFDRVQsT0FBTyxJQUNQLE9BQU9hLEtBQUssQ0FBQ0gsT0FBTyxLQUFLLFVBQVUsSUFDbkMsU0FBQUMscUJBQUEsR0FBT3hCLDBCQUEwQixDQUFDc0IsUUFBUSxDQUFDLHFCQUFwQ0UscUJBQUEsQ0FBc0NELE9BQU8sTUFBSyxVQUFVLElBQ25FRyxLQUFLLENBQUNILE9BQU8sT0FBQUUsc0JBQUEsR0FBS3pCLDBCQUEwQixDQUFDc0IsUUFBUSxDQUFDLHFCQUFwQ0csc0JBQUEsQ0FBc0NGLE9BQU8sR0FDL0Q7TUFDQUssT0FBTyxDQUFDRSxJQUFJLENBQUMsZUFBZVIsUUFBUSwrQkFBK0IsQ0FBQztJQUN0RTtJQUVBdEIsMEJBQTBCLENBQUNzQixRQUFRLENBQUMsR0FBR0ksS0FBSztFQUM5QyxDQUFDO0VBTURLLE1BQU0sV0FBTkEsTUFBTUEsQ0FBMEJDLEdBQU0sRUFBZ0I7SUFJcEQsSUFBSW5CLE9BQU8sRUFBRTtNQUNYLEtBQUssSUFBTW9CLElBQUcsSUFBSUQsR0FBRyxFQUFFO1FBQ3JCLElBQUlBLEdBQUcsQ0FBQ0MsSUFBRyxDQUFDLEVBQUU7VUFDWm5CLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDaUIsR0FBRyxDQUFDQyxJQUFHLENBQUMsQ0FBQztRQUN6QjtNQUNGO0lBQ0Y7SUFDQSxPQUFPRCxHQUFHO0VBQ1o7QUFDRixDQUFDIiwiaWdub3JlTGlzdCI6W119